<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Luxury Haven Hotel - Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Custom styles */
        .sidebar {
            transition: all 0.3s ease;
        }
        .sidebar.collapsed {
            width: 70px;
        }
        .sidebar.collapsed .nav-text {
            display: none;
        }
        .sidebar.collapsed .logo-text {
            display: none;
        }
        .main-content {
            transition: all 0.3s ease;
        }
        .sidebar.collapsed + .main-content {
            margin-left: 70px;
        }
        .room-card {
            transition: transform 0.2s ease;
        }
        .room-card:hover {
            transform: translateY(-5px);
        }
        .print-only {
            display: none;
        }
        @media print {
            .no-print {
                display: none;
            }
            .print-only {
                display: block;
            }
            body {
                background-color: white !important;
                color: black !important;
            }
            .invoice-container {
                box-shadow: none !important;
                border: none !important;
            }
        }
    </style>
</head>
<body class="bg-gray-100 font-sans">
    <!-- Login Page -->
    <div id="login-page" class="flex items-center justify-center min-h-screen">
        <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md">
            <div class="text-center mb-8">
                <i class="fas fa-hotel text-5xl text-blue-600 mb-4"></i>
                <h1 class="text-3xl font-bold text-gray-800">Luxury Haven Hotel</h1>
                <p class="text-gray-600 mt-2">Management System Login</p>
            </div>
            <form id="login-form" class="space-y-6">
                <div>
                    <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Username</label>
                    <input type="text" id="username" name="username" required 
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="password" name="password" required 
                           class="w-full px-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                </div>
                <div>
                    <button type="submit" 
                            class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300 flex items-center justify-center">
                        <i class="fas fa-sign-in-alt mr-2"></i> Login
                    </button>
                </div>
            </form>
            <div class="mt-6 text-center text-sm text-gray-500">
                <p>Default credentials: admin / admin123</p>
            </div>
        </div>
    </div>

    <!-- Main Application (hidden initially) -->
    <div id="app-container" class="hidden">
        <!-- Sidebar -->
        <div id="sidebar" class="sidebar fixed inset-y-0 left-0 bg-gray-800 text-white w-64 shadow-lg">
            <div class="p-4 flex items-center">
                <i class="fas fa-hotel text-2xl text-blue-400"></i>
                <span class="logo-text ml-3 text-xl font-semibold">Luxury Haven</span>
                <button id="toggle-sidebar" class="ml-auto text-gray-400 hover:text-white">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
            <nav class="mt-6">
                <div class="px-4 py-2 text-gray-400 uppercase text-xs font-semibold tracking-wider">
                    <span class="nav-text">Navigation</span>
                </div>
                <a href="#" class="nav-item active" data-section="dashboard">
                    <i class="fas fa-tachometer-alt"></i>
                    <span class="nav-text ml-3">Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-section="rooms">
                    <i class="fas fa-bed"></i>
                    <span class="nav-text ml-3">Room Management</span>
                </a>
                <a href="#" class="nav-item" data-section="customers">
                    <i class="fas fa-users"></i>
                    <span class="nav-text ml-3">Customer Management</span>
                </a>
                <a href="#" class="nav-item" data-section="bookings">
                    <i class="fas fa-calendar-check"></i>
                    <span class="nav-text ml-3">Bookings</span>
                </a>
                <a href="#" class="nav-item" data-section="payments">
                    <i class="fas fa-credit-card"></i>
                    <span class="nav-text ml-3">Payments</span>
                </a>
            </nav>
            <div class="absolute bottom-0 w-full p-4">
                <button id="logout-btn" class="w-full flex items-center justify-center py-2 px-4 bg-gray-700 rounded-md hover:bg-gray-600 transition duration-300">
                    <i class="fas fa-sign-out-alt"></i>
                    <span class="nav-text ml-3">Logout</span>
                </button>
            </div>
        </div>

        <!-- Main Content -->
        <div class="main-content ml-64 min-h-screen">
            <!-- Top Navigation -->
            <header class="bg-white shadow-sm">
                <div class="flex items-center justify-between px-6 py-4">
                    <h1 id="page-title" class="text-2xl font-semibold text-gray-800">Dashboard</h1>
                    <div class="flex items-center space-x-4">
                        <div class="relative">
                            <i class="fas fa-bell text-gray-600 hover:text-blue-600 cursor-pointer"></i>
                            <span class="absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center">3</span>
                        </div>
                        <div class="flex items-center">
                            <img src="https://randomuser.me/api/portraits/men/32.jpg" alt="User" class="h-8 w-8 rounded-full">
                            <span class="ml-2 text-gray-700">Admin</span>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Dashboard Section -->
            <section id="dashboard-section" class="p-6">
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6">
                    <!-- Stats Cards -->
                    <div class="bg-white rounded-lg shadow p-6 flex items-center">
                        <div class="p-3 rounded-full bg-blue-100 text-blue-600 mr-4">
                            <i class="fas fa-bed text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Total Rooms</p>
                            <h3 class="text-2xl font-bold" id="total-rooms">0</h3>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-6 flex items-center">
                        <div class="p-3 rounded-full bg-green-100 text-green-600 mr-4">
                            <i class="fas fa-users text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Total Customers</p>
                            <h3 class="text-2xl font-bold" id="total-customers">0</h3>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-6 flex items-center">
                        <div class="p-3 rounded-full bg-yellow-100 text-yellow-600 mr-4">
                            <i class="fas fa-calendar-check text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Active Bookings</p>
                            <h3 class="text-2xl font-bold" id="active-bookings">0</h3>
                        </div>
                    </div>
                    <div class="bg-white rounded-lg shadow p-6 flex items-center">
                        <div class="p-3 rounded-full bg-purple-100 text-purple-600 mr-4">
                            <i class="fas fa-dollar-sign text-xl"></i>
                        </div>
                        <div>
                            <p class="text-gray-500">Today's Revenue</p>
                            <h3 class="text-2xl font-bold" id="todays-revenue">$0</h3>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                    <!-- Recent Bookings -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <div class="flex items-center justify-between mb-4">
                            <h2 class="text-xl font-semibold text-gray-800">Recent Bookings</h2>
                            <a href="#" class="text-blue-600 text-sm hover:underline" data-section="bookings">View All</a>
                        </div>
                        <div class="overflow-x-auto">
                            <table class="min-w-full divide-y divide-gray-200">
                                <thead class="bg-gray-50">
                                    <tr>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Check-In</th>
                                        <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    </tr>
                                </thead>
                                <tbody id="recent-bookings" class="bg-white divide-y divide-gray-200">
                                    <!-- Filled by JavaScript -->
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- Occupancy Chart -->
                    <div class="bg-white rounded-lg shadow p-6">
                        <h2 class="text-xl font-semibold text-gray-800 mb-4">Room Occupancy</h2>
                        <div class="h-64 flex items-center justify-center">
                            <canvas id="occupancy-chart"></canvas>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Room Management Section -->
            <section id="rooms-section" class="p-6 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-semibold text-gray-800">Room Management</h1>
                    <button id="add-room-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 flex items-center">
                        <i class="fas fa-plus mr-2"></i> Add Room
                    </button>
                </div>

                <!-- Room Filter -->
                <div class="bg-white rounded-lg shadow p-4 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Room Type</label>
                            <select id="room-type-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Types</option>
                                <option value="single">Single</option>
                                <option value="double">Double</option>
                                <option value="suite">Suite</option>
                                <option value="deluxe">Deluxe</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                            <select id="room-status-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Statuses</option>
                                <option value="available">Available</option>
                                <option value="occupied">Occupied</option>
                                <option value="maintenance">Maintenance</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Price Range</label>
                            <select id="room-price-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Prices</option>
                                <option value="0-100">$0 - $100</option>
                                <option value="100-200">$100 - $200</option>
                                <option value="200-500">$200 - $500</option>
                                <option value="500+">$500+</option>
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button id="filter-rooms-btn" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">
                                Filter
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Rooms Grid -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6" id="rooms-container">
                    <!-- Filled by JavaScript -->
                </div>
            </section>

            <!-- Add/Edit Room Modal -->
            <div id="room-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                    <div class="p-4 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800" id="room-modal-title">Add New Room</h2>
                    </div>
                    <div class="p-6">
                        <form id="room-form">
                            <input type="hidden" id="room-id">
                            <div class="mb-4">
                                <label for="room-number" class="block text-sm font-medium text-gray-700 mb-1">Room Number</label>
                                <input type="text" id="room-number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="room-type" class="block text-sm font-medium text-gray-700 mb-1">Room Type</label>
                                <select id="room-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">Select Type</option>
                                    <option value="single">Single</option>
                                    <option value="double">Double</option>
                                    <option value="suite">Suite</option>
                                    <option value="deluxe">Deluxe</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="room-price" class="block text-sm font-medium text-gray-700 mb-1">Price Per Night ($)</label>
                                <input type="number" id="room-price" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="room-capacity" class="block text-sm font-medium text-gray-700 mb-1">Capacity</label>
                                <input type="number" id="room-capacity" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="room-status" class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                <select id="room-status" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="available">Available</option>
                                    <option value="occupied">Occupied</option>
                                    <option value="maintenance">Maintenance</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="room-description" class="block text-sm font-medium text-gray-700 mb-1">Description</label>
                                <textarea id="room-description" rows="3" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex justify-end space-x-3">
                        <button id="cancel-room-btn" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300">
                            Cancel
                        </button>
                        <button id="save-room-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-300">
                            Save Room
                        </button>
                    </div>
                </div>
            </div>

            <!-- Customer Management Section -->
            <section id="customers-section" class="p-6 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-semibold text-gray-800">Customer Management</h1>
                    <button id="add-customer-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 flex items-center">
                        <i class="fas fa-plus mr-2"></i> Add Customer
                    </button>
                </div>

                <!-- Customer Table -->
                <div class="bg-white rounded-lg shadow overflow-hidden">
                    <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                        <div class="relative w-64">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <i class="fas fa-search text-gray-400"></i>
                            </div>
                            <input type="text" id="customer-search" class="pl-10 pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" placeholder="Search customers...">
                        </div>
                        <div class="flex items-center space-x-2">
                            <button id="export-customers-btn" class="px-3 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 flex items-center">
                                <i class="fas fa-file-export mr-2"></i> Export
                            </button>
                        </div>
                    </div>
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Name</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Email</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Phone</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID Type</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID Number</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="customers-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- Filled by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex items-center justify-between">
                        <div class="text-sm text-gray-500">
                            Showing <span id="customers-start">1</span> to <span id="customers-end">10</span> of <span id="customers-total">0</span> customers
                        </div>
                        <div class="flex space-x-2">
                            <button id="customers-prev-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 disabled:opacity-50" disabled>
                                Previous
                            </button>
                            <button id="customers-next-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 disabled:opacity-50" disabled>
                                Next
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add/Edit Customer Modal -->
            <div id="customer-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                    <div class="p-4 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800" id="customer-modal-title">Add New Customer</h2>
                    </div>
                    <div class="p-6">
                        <form id="customer-form">
                            <input type="hidden" id="customer-id">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="customer-first-name" class="block text-sm font-medium text-gray-700 mb-1">First Name</label>
                                    <input type="text" id="customer-first-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                </div>
                                <div>
                                    <label for="customer-last-name" class="block text-sm font-medium text-gray-700 mb-1">Last Name</label>
                                    <input type="text" id="customer-last-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="customer-email" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                                <input type="email" id="customer-email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="customer-phone" class="block text-sm font-medium text-gray-700 mb-1">Phone</label>
                                <input type="tel" id="customer-phone" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                <div>
                                    <label for="customer-id-type" class="block text-sm font-medium text-gray-700 mb-1">ID Type</label>
                                    <select id="customer-id-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                        <option value="">Select ID Type</option>
                                        <option value="passport">Passport</option>
                                        <option value="driver_license">Driver's License</option>
                                        <option value="national_id">National ID</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="customer-id-number" class="block text-sm font-medium text-gray-700 mb-1">ID Number</label>
                                    <input type="text" id="customer-id-number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="customer-address" class="block text-sm font-medium text-gray-700 mb-1">Address</label>
                                <textarea id="customer-address" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>
                            <div class="mb-4">
                                <label for="customer-notes" class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                                <textarea id="customer-notes" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex justify-end space-x-3">
                        <button id="cancel-customer-btn" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300">
                            Cancel
                        </button>
                        <button id="save-customer-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-300">
                            Save Customer
                        </button>
                    </div>
                </div>
            </div>

            <!-- Bookings Section -->
            <section id="bookings-section" class="p-6 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-semibold text-gray-800">Booking Management</h1>
                    <button id="add-booking-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 flex items-center">
                        <i class="fas fa-plus mr-2"></i> New Booking
                    </button>
                </div>

                <!-- Booking Filter -->
                <div class="bg-white rounded-lg shadow p-4 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                            <select id="booking-status-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Statuses</option>
                                <option value="confirmed">Confirmed</option>
                                <option value="pending">Pending</option>
                                <option value="cancelled">Cancelled</option>
                                <option value="completed">Completed</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Check-In Date</label>
                            <input type="date" id="booking-checkin-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Check-Out Date</label>
                            <input type="date" id="booking-checkout-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Customer</label>
                            <select id="booking-customer-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Customers</option>
                                <!-- Filled by JavaScript -->
                            </select>
                        </div>
                        <div class="flex items-end">
                            <button id="filter-bookings-btn" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">
                                Filter
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Bookings Table -->
                <div class="bg-white rounded-lg shadow overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Booking ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Room</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Dates</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="bookings-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- Filled by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex items-center justify-between">
                        <div class="text-sm text-gray-500">
                            Showing <span id="bookings-start">1</span> to <span id="bookings-end">10</span> of <span id="bookings-total">0</span> bookings
                        </div>
                        <div class="flex space-x-2">
                            <button id="bookings-prev-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 disabled:opacity-50" disabled>
                                Previous
                            </button>
                            <button id="bookings-next-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 disabled:opacity-50" disabled>
                                Next
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add/Edit Booking Modal -->
            <div id="booking-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl w-full max-w-2xl">
                    <div class="p-4 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800" id="booking-modal-title">New Booking</h2>
                    </div>
                    <div class="p-6">
                        <form id="booking-form">
                            <input type="hidden" id="booking-id">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div>
                                    <h3 class="text-lg font-medium text-gray-800 mb-4">Booking Details</h3>
                                    <div class="mb-4">
                                        <label for="booking-customer" class="block text-sm font-medium text-gray-700 mb-1">Customer</label>
                                        <select id="booking-customer" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                            <option value="">Select Customer</option>
                                            <!-- Filled by JavaScript -->
                                        </select>
                                    </div>
                                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                                        <div>
                                            <label for="booking-checkin" class="block text-sm font-medium text-gray-700 mb-1">Check-In Date</label>
                                            <input type="date" id="booking-checkin" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                        </div>
                                        <div>
                                            <label for="booking-checkout" class="block text-sm font-medium text-gray-700 mb-1">Check-Out Date</label>
                                            <input type="date" id="booking-checkout" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <label for="booking-adults" class="block text-sm font-medium text-gray-700 mb-1">Adults</label>
                                        <input type="number" id="booking-adults" min="1" value="1" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    </div>
                                    <div class="mb-4">
                                        <label for="booking-children" class="block text-sm font-medium text-gray-700 mb-1">Children</label>
                                        <input type="number" id="booking-children" min="0" value="0" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div class="mb-4">
                                        <label for="booking-status" class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                        <select id="booking-status" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                            <option value="confirmed">Confirmed</option>
                                            <option value="pending">Pending</option>
                                            <option value="cancelled">Cancelled</option>
                                        </select>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="text-lg font-medium text-gray-800 mb-4">Room Selection</h3>
                                    <div class="mb-4">
                                        <label for="booking-room-type" class="block text-sm font-medium text-gray-700 mb-1">Room Type</label>
                                        <select id="booking-room-type" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                            <option value="">Select Room Type</option>
                                            <option value="single">Single</option>
                                            <option value="double">Double</option>
                                            <option value="suite">Suite</option>
                                            <option value="deluxe">Deluxe</option>
                                        </select>
                                    </div>
                                    <div class="mb-4">
                                        <label for="booking-room" class="block text-sm font-medium text-gray-700 mb-1">Available Rooms</label>
                                        <select id="booking-room" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                            <option value="">Select a room</option>
                                            <!-- Filled by JavaScript -->
                                        </select>
                                    </div>
                                    <div class="bg-gray-50 p-4 rounded-md">
                                        <div class="flex justify-between mb-2">
                                            <span class="text-sm text-gray-600">Room Price:</span>
                                            <span class="text-sm font-medium" id="booking-room-price">$0.00</span>
                                        </div>
                                        <div class="flex justify-between mb-2">
                                            <span class="text-sm text-gray-600">Nights:</span>
                                            <span class="text-sm font-medium" id="booking-nights">0</span>
                                        </div>
                                        <div class="flex justify-between mb-2">
                                            <span class="text-sm text-gray-600">Tax (10%):</span>
                                            <span class="text-sm font-medium" id="booking-tax">$0.00</span>
                                        </div>
                                        <div class="flex justify-between font-semibold text-gray-800 border-t border-gray-200 pt-2 mt-2">
                                            <span>Total:</span>
                                            <span id="booking-total">$0.00</span>
                                        </div>
                                    </div>
                                    <div class="mt-4">
                                        <label for="booking-notes" class="block text-sm font-medium text-gray-700 mb-1">Special Requests</label>
                                        <textarea id="booking-notes" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                                    </div>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex justify-end space-x-3">
                        <button id="cancel-booking-btn" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300">
                            Cancel
                        </button>
                        <button id="save-booking-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-300">
                            Save Booking
                        </button>
                    </div>
                </div>
            </div>

            <!-- Payments Section -->
            <section id="payments-section" class="p-6 hidden">
                <div class="flex justify-between items-center mb-6">
                    <h1 class="text-2xl font-semibold text-gray-800">Payment Management</h1>
                    <button id="add-payment-btn" class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 transition duration-300 flex items-center">
                        <i class="fas fa-plus mr-2"></i> Record Payment
                    </button>
                </div>

                <!-- Payment Filter -->
                <div class="bg-white rounded-lg shadow p-4 mb-6">
                    <div class="grid grid-cols-1 md:grid-cols-5 gap-4">
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                            <select id="payment-status-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Statuses</option>
                                <option value="paid">Paid</option>
                                <option value="pending">Pending</option>
                                <option value="failed">Failed</option>
                                <option value="refunded">Refunded</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Payment Method</label>
                            <select id="payment-method-filter" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="all">All Methods</option>
                                <option value="cash">Cash</option>
                                <option value="credit_card">Credit Card</option>
                                <option value="bank_transfer">Bank Transfer</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Date From</label>
                            <input type="date" id="payment-date-from" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div>
                            <label class="block text-sm font-medium text-gray-700 mb-1">Date To</label>
                            <input type="date" id="payment-date-to" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                        </div>
                        <div class="flex items-end">
                            <button id="filter-payments-btn" class="w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-300">
                                Filter
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Payments Table -->
                <div class="bg-white rounded-lg shadow overflow-hidden">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Payment ID</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Booking</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customer</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Amount</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Method</th>
                                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                                    <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                                </tr>
                            </thead>
                            <tbody id="payments-table-body" class="bg-white divide-y divide-gray-200">
                                <!-- Filled by JavaScript -->
                            </tbody>
                        </table>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex items-center justify-between">
                        <div class="text-sm text-gray-500">
                            Showing <span id="payments-start">1</span> to <span id="payments-end">10</span> of <span id="payments-total">0</span> payments
                        </div>
                        <div class="flex space-x-2">
                            <button id="payments-prev-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 disabled:opacity-50" disabled>
                                Previous
                            </button>
                            <button id="payments-next-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 disabled:opacity-50" disabled>
                                Next
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Add/Edit Payment Modal -->
            <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl w-full max-w-md">
                    <div class="p-4 border-b border-gray-200">
                        <h2 class="text-xl font-semibold text-gray-800" id="payment-modal-title">Record Payment</h2>
                    </div>
                    <div class="p-6">
                        <form id="payment-form">
                            <input type="hidden" id="payment-id">
                            <div class="mb-4">
                                <label for="payment-booking" class="block text-sm font-medium text-gray-700 mb-1">Booking</label>
                                <select id="payment-booking" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">Select Booking</option>
                                    <!-- Filled by JavaScript -->
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="payment-amount" class="block text-sm font-medium text-gray-700 mb-1">Amount ($)</label>
                                <input type="number" id="payment-amount" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="payment-method" class="block text-sm font-medium text-gray-700 mb-1">Payment Method</label>
                                <select id="payment-method" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="">Select Method</option>
                                    <option value="cash">Cash</option>
                                    <option value="credit_card">Credit Card</option>
                                    <option value="bank_transfer">Bank Transfer</option>
                                    <option value="other">Other</option>
                                </select>
                            </div>
                            <div class="mb-4" id="credit-card-fields" style="display: none;">
                                <div class="grid grid-cols-2 gap-4 mb-3">
                                    <div>
                                        <label for="payment-card-number" class="block text-sm font-medium text-gray-700 mb-1">Card Number</label>
                                        <input type="text" id="payment-card-number" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label for="payment-card-cvv" class="block text-sm font-medium text-gray-700 mb-1">CVV</label>
                                        <input type="text" id="payment-card-cvv" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label for="payment-card-expiry" class="block text-sm font-medium text-gray-700 mb-1">Expiry Date</label>
                                        <input type="text" id="payment-card-expiry" placeholder="MM/YY" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                    <div>
                                        <label for="payment-card-name" class="block text-sm font-medium text-gray-700 mb-1">Cardholder Name</label>
                                        <input type="text" id="payment-card-name" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <label for="payment-date" class="block text-sm font-medium text-gray-700 mb-1">Payment Date</label>
                                <input type="date" id="payment-date" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                            </div>
                            <div class="mb-4">
                                <label for="payment-status" class="block text-sm font-medium text-gray-700 mb-1">Status</label>
                                <select id="payment-status" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                                    <option value="paid">Paid</option>
                                    <option value="pending">Pending</option>
                                    <option value="failed">Failed</option>
                                    <option value="refunded">Refunded</option>
                                </select>
                            </div>
                            <div class="mb-4">
                                <label for="payment-notes" class="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                                <textarea id="payment-notes" rows="2" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea>
                            </div>
                        </form>
                    </div>
                    <div class="p-4 border-t border-gray-200 flex justify-end space-x-3">
                        <button id="cancel-payment-btn" class="px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300">
                            Cancel
                        </button>
                        <button id="save-payment-btn" class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition duration-300">
                            Record Payment
                        </button>
                    </div>
                </div>
            </div>

            <!-- Invoice Modal -->
            <div id="invoice-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden">
                <div class="bg-white rounded-lg shadow-xl w-full max-w-3xl">
                    <div class="p-4 border-b border-gray-200 flex justify-between items-center">
                        <h2 class="text-xl font-semibold text-gray-800">Invoice</h2>
                        <div class="flex space-x-2">
                            <button id="print-invoice-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300 flex items-center">
                                <i class="fas fa-print mr-2"></i> Print
                            </button>
                            <button id="close-invoice-btn" class="px-3 py-1 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-100 transition duration-300">
                                Close
                            </button>
                        </div>
                    </div>
                    <div class="p-6">
                        <div id="invoice-container" class="bg-white p-8 rounded-lg border border-gray-200">
                            <!-- Invoice content will be generated here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // Mock Data
        let rooms = [
            { id: 1, number: '101', type: 'single', price: 99, capacity: 1, status: 'available', description: 'Cozy single room with a view' },
            { id: 2, number: '102', type: 'single', price: 109, capacity: 1, status: 'available', description: 'Standard single room' },
            { id: 3, number: '201', type: 'double', price: 149, capacity: 2, status: 'available', description: 'Spacious double room' },
            { id: 4, number: '202', type: 'double', price: 159, capacity: 2, status: 'occupied', description: 'Deluxe double room with balcony' },
            { id: 5, number: '301', type: 'suite', price: 249, capacity: 4, status: 'available', description: 'Luxury suite with living area' },
            { id: 6, number: '302', type: 'suite', price: 299, capacity: 4, status: 'maintenance', description: 'Executive suite with jacuzzi' },
            { id: 7, number: '401', type: 'deluxe', price: 399, capacity: 2, status: 'available', description: 'Premium deluxe room with ocean view' },
            { id: 8, number: '402', type: 'deluxe', price: 449, capacity: 2, status: 'available', description: 'Presidential suite' }
        ];

        let customers = [
            { id: 1, firstName: 'John', lastName: 'Doe', email: 'john.doe@example.com', phone: '1234567890', idType: 'passport', idNumber: 'P12345678', address: '123 Main St, Anytown', notes: 'VIP customer' },
            { id: 2, firstName: 'Jane', lastName: 'Smith', email: 'jane.smith@example.com', phone: '9876543210', idType: 'driver_license', idNumber: 'DL87654321', address: '456 Oak Ave, Somewhere', notes: '' },
            { id: 3, firstName: 'Robert', lastName: 'Johnson', email: 'robert.j@example.com', phone: '5551234567', idType: 'national_id', idNumber: 'ID11223344', address: '789 Pine Rd, Nowhere', notes: 'Allergic to nuts' }
        ];

        let bookings = [
            { id: 1, customerId: 1, roomId: 4, checkIn: '2023-06-15', checkOut: '2023-06-20', adults: 2, children: 0, status: 'confirmed', notes: 'Anniversary stay', totalAmount: 795, paymentStatus: 'paid' },
            { id: 2, customerId: 2, roomId: 1, checkIn: '2023-06-18', checkOut: '2023-06-22', adults: 1, children: 0, status: 'confirmed', notes: 'Business trip', totalAmount: 396, paymentStatus: 'paid' },
            { id: 3, customerId: 3, roomId: 5, checkIn: '2023-06-25', checkOut: '2023-06-30', adults: 2, children: 2, status: 'pending', notes: 'Family vacation', totalAmount: 1245, paymentStatus: 'pending' }
        ];

        let payments = [
            { id: 1, bookingId: 1, amount: 795, method: 'credit_card', status: 'paid', date: '2023-06-10', notes: 'Paid in full' },
            { id: 2, bookingId: 2, amount: 396, method: 'bank_transfer', status: 'paid', date: '2023-06-12', notes: '' },
            { id: 3, bookingId: 3, amount: 500, method: 'credit_card', status: 'pending', date: '2023-06-20', notes: 'Deposit paid' }
        ];

        // Load data from localStorage if available
        if (localStorage.getItem('hotelRooms')) {
            rooms = JSON.parse(localStorage.getItem('hotelRooms'));
        }
        if (localStorage.getItem('hotelCustomers')) {
            customers = JSON.parse(localStorage.getItem('hotelCustomers'));
        }
        if (localStorage.getItem('hotelBookings')) {
            bookings = JSON.parse(localStorage.getItem('hotelBookings'));
        }
        if (localStorage.getItem('hotelPayments')) {
            payments = JSON.parse(localStorage.getItem('hotelPayments'));
        }

        // Helper functions
        function getRoomById(id) {
            return rooms.find(room => room.id === id);
        }

        function getCustomerById(id) {
            return customers.find(customer => customer.id === id);
        }

        function getBookingById(id) {
            return bookings.find(booking => booking.id === id);
        }

        function getPaymentById(id) {
            return payments.find(payment => payment.id === id);
        }

        function getAvailableRooms(checkIn, checkOut, type = null) {
            // Filter rooms by type if specified
            let availableRooms = type ? rooms.filter(room => room.type === type) : [...rooms];
            
            // Filter rooms that are available or in maintenance (for demo purposes)
            availableRooms = availableRooms.filter(room => room.status === 'available');
            
            // Filter rooms that don't have conflicting bookings
            if (checkIn && checkOut) {
                availableRooms = availableRooms.filter(room => {
                    const roomBookings = bookings.filter(booking => booking.roomId === room.id && booking.status !== 'cancelled');
                    
                    for (const booking of roomBookings) {
                        if ((checkIn >= booking.checkIn && checkIn < booking.checkOut) || 
                            (checkOut > booking.checkIn && checkOut <= booking.checkOut) ||
                            (checkIn <= booking.checkIn && checkOut >= booking.checkOut)) {
                            return false;
                        }
                    }
                    return true;
                });
            }
            
            return availableRooms;
        }

        function calculateNights(checkIn, checkOut) {
            if (!checkIn || !checkOut) return 0;
            const oneDay = 24 * 60 * 60 * 1000; // hours*minutes*seconds*milliseconds
            const firstDate = new Date(checkIn);
            const secondDate = new Date(checkOut);
            return Math.round(Math.abs((firstDate - secondDate) / oneDay));
        }

        function formatDate(dateString) {
            if (!dateString) return '';
            const options = { year: 'numeric', month: 'short', day: 'numeric' };
            return new Date(dateString).toLocaleDateString('en-US', options);
        }

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' }).format(amount);
        }

        function saveDataToLocalStorage() {
            localStorage.setItem('hotelRooms', JSON.stringify(rooms));
            localStorage.setItem('hotelCustomers', JSON.stringify(customers));
            localStorage.setItem('hotelBookings', JSON.stringify(bookings));
            localStorage.setItem('hotelPayments', JSON.stringify(payments));
        }

        // DOM Elements
        const loginPage = document.getElementById('login-page');
        const appContainer = document.getElementById('app-container');
        const loginForm = document.getElementById('login-form');
        const logoutBtn = document.getElementById('logout-btn');
        const toggleSidebarBtn = document.getElementById('toggle-sidebar');
        const sidebar = document.getElementById('sidebar');
        const navItems = document.querySelectorAll('.nav-item');
        const pageTitle = document.getElementById('page-title');
        const sections = {
            dashboard: document.getElementById('dashboard-section'),
            rooms: document.getElementById('rooms-section'),
            customers: document.getElementById('customers-section'),
            bookings: document.getElementById('bookings-section'),
            payments: document.getElementById('payments-section')
        };

        // Stats elements
        const totalRoomsEl = document.getElementById('total-rooms');
        const totalCustomersEl = document.getElementById('total-customers');
        const activeBookingsEl = document.getElementById('active-bookings');
        const todaysRevenueEl = document.getElementById('todays-revenue');
        const recentBookingsEl = document.getElementById('recent-bookings');

        // Room Management
        const roomsContainer = document.getElementById('rooms-container');
        const addRoomBtn = document.getElementById('add-room-btn');
        const roomModal = document.getElementById('room-modal');
        const roomModalTitle = document.getElementById('room-modal-title');
        const roomForm = document.getElementById('room-form');
        const roomIdInput = document.getElementById('room-id');
        const roomNumberInput = document.getElementById('room-number');
        const roomTypeInput = document.getElementById('room-type');
        const roomPriceInput = document.getElementById('room-price');
        const roomCapacityInput = document.getElementById('room-capacity');
        const roomStatusInput = document.getElementById('room-status');
        const roomDescriptionInput = document.getElementById('room-description');
        const saveRoomBtn = document.getElementById('save-room-btn');
        const cancelRoomBtn = document.getElementById('cancel-room-btn');

        // Customer Management
        const customersTableBody = document.getElementById('customers-table-body');
        const addCustomerBtn = document.getElementById('add-customer-btn');
        const customerModal = document.getElementById('customer-modal');
        const customerModalTitle = document.getElementById('customer-modal-title');
        const customerForm = document.getElementById('customer-form');
        const customerIdInput = document.getElementById('customer-id');
        const customerFirstNameInput = document.getElementById('customer-first-name');
        const customerLastNameInput = document.getElementById('customer-last-name');
        const customerEmailInput = document.getElementById('customer-email');
        const customerPhoneInput = document.getElementById('customer-phone');
        const customerIdTypeInput = document.getElementById('customer-id-type');
        const customerIdNumberInput = document.getElementById('customer-id-number');
        const customerAddressInput = document.getElementById('customer-address');
        const customerNotesInput = document.getElementById('customer-notes');
        const saveCustomerBtn = document.getElementById('save-customer-btn');
        const cancelCustomerBtn = document.getElementById('cancel-customer-btn');
        const customerSearchInput = document.getElementById('customer-search');

        // Booking Management
        const bookingsTableBody = document.getElementById('bookings-table-body');
        const addBookingBtn = document.getElementById('add-booking-btn');
        const bookingModal = document.getElementById('booking-modal');
        const bookingModalTitle = document.getElementById('booking-modal-title');
        const bookingForm = document.getElementById('booking-form');
        const bookingIdInput = document.getElementById('booking-id');
        const bookingCustomerInput = document.getElementById('booking-customer');
        const bookingCheckInInput = document.getElementById('booking-checkin');
        const bookingCheckOutInput = document.getElementById('booking-checkout');
        const bookingAdultsInput = document.getElementById('booking-adults');
        const bookingChildrenInput = document.getElementById('booking-children');
        const bookingStatusInput = document.getElementById('booking-status');
        const bookingRoomTypeInput = document.getElementById('booking-room-type');
        const bookingRoomInput = document.getElementById('booking-room');
        const bookingRoomPriceEl = document.getElementById('booking-room-price');
        const bookingNightsEl = document.getElementById('booking-nights');
        const bookingTaxEl = document.getElementById('booking-tax');
        const bookingTotalEl = document.getElementById('booking-total');
        const bookingNotesInput = document.getElementById('booking-notes');
        const saveBookingBtn = document.getElementById('save-booking-btn');
        const cancelBookingBtn = document.getElementById('cancel-booking-btn');

        // Payment Management
        const paymentsTableBody = document.getElementById('payments-table-body');
        const addPaymentBtn = document.getElementById('add-payment-btn');
        const paymentModal = document.getElementById('payment-modal');
        const paymentModalTitle = document.getElementById('payment-modal-title');
        const paymentForm = document.getElementById('payment-form');
        const paymentIdInput = document.getElementById('payment-id');
        const paymentBookingInput = document.getElementById('payment-booking');
        const paymentAmountInput = document.getElementById('payment-amount');
        const paymentMethodInput = document.getElementById('payment-method');
        const paymentCardFields = document.getElementById('credit-card-fields');
        const paymentCardNumberInput = document.getElementById('payment-card-number');
        const paymentCardCvvInput = document.getElementById('payment-card-cvv');
        const paymentCardExpiryInput = document.getElementById('payment-card-expiry');
        const paymentCardNameInput = document.getElementById('payment-card-name');
        const paymentDateInput = document.getElementById('payment-date');
        const paymentStatusInput = document.getElementById('payment-status');
        const paymentNotesInput = document.getElementById('payment-notes');
        const savePaymentBtn = document.getElementById('save-payment-btn');
        const cancelPaymentBtn = document.getElementById('cancel-payment-btn');

        // Invoice Modal
        const invoiceModal = document.getElementById('invoice-modal');
        const invoiceContainer = document.getElementById('invoice-container');
        const printInvoiceBtn = document.getElementById('print-invoice-btn');
        const closeInvoiceBtn = document.getElementById('close-invoice-btn');

        // Event Listeners
        loginForm.addEventListener('submit', handleLogin);
        logoutBtn.addEventListener('click', handleLogout);
        toggleSidebarBtn.addEventListener('click', toggleSidebar);
        navItems.forEach(item => {
            item.addEventListener('click', () => navigateToSection(item.getAttribute('data-section')));
        });

        // Room Management
        addRoomBtn.addEventListener('click', () => openRoomModal());
        saveRoomBtn.addEventListener('click', saveRoom);
        cancelRoomBtn.addEventListener('click', () => closeRoomModal());

        // Customer Management
        addCustomerBtn.addEventListener('click', () => openCustomerModal());
        saveCustomerBtn.addEventListener('click', saveCustomer);
        cancelCustomerBtn.addEventListener('click', () => closeCustomerModal());
        customerSearchInput.addEventListener('input', filterCustomers);

        // Booking Management
        addBookingBtn.addEventListener('click', () => openBookingModal());
        saveBookingBtn.addEventListener('click', saveBooking);
        cancelBookingBtn.addEventListener('click', () => closeBookingModal());
        bookingRoomTypeInput.addEventListener('change', updateAvailableRooms);
        bookingCheckInInput.addEventListener('change', updateBookingDates);
        bookingCheckOutInput.addEventListener('change', updateBookingDates);
        bookingRoomInput.addEventListener('change', updateBookingPrice);

        // Payment Management
        addPaymentBtn.addEventListener('click', () => openPaymentModal());
        savePaymentBtn.addEventListener('click', savePayment);
        cancelPaymentBtn.addEventListener('click', () => closePaymentModal());
        paymentMethodInput.addEventListener('change', toggleCreditCardFields);

        // Invoice Modal
        printInvoiceBtn.addEventListener('click', printInvoice);
        closeInvoiceBtn.addEventListener('click', () => invoiceModal.classList.add('hidden'));

        // Initialize the app
        function initApp() {
            // Set today's date as default for check-in
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            
            bookingCheckInInput.valueAsDate = today;
            bookingCheckOutInput.valueAsDate = tomorrow;
            paymentDateInput.valueAsDate = today;

            // Load initial data
            updateDashboardStats();
            renderRooms();
            renderCustomers();
            renderBookings();
            renderPayments();
        }

        // Authentication
        function handleLogin(e) {
            e.preventDefault();
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            // Simple validation (in a real app, this would be a server-side check)
            if (username === 'admin' && password === 'admin123') {
                loginPage.classList.add('hidden');
                appContainer.classList.remove('hidden');
                initApp();
            } else {
                alert('Invalid credentials. Try admin / admin123');
            }
        }

        function handleLogout() {
            loginPage.classList.remove('hidden');
            appContainer.classList.add('hidden');
            document.getElementById('username').value = '';
            document.getElementById('password').value = '';
        }

        // Navigation
        function toggleSidebar() {
            sidebar.classList.toggle('collapsed');
        }

        function navigateToSection(section) {
            // Hide all sections
            Object.values(sections).forEach(sec => sec.classList.add('hidden'));
            
            // Show the selected section
            sections[section].classList.remove('hidden');
            
            // Update page title
            pageTitle.textContent = section.charAt(0).toUpperCase() + section.slice(1).replace('-', ' ');
            
            // Update active nav item
            navItems.forEach(item => {
                if (item.getAttribute('data-section') === section) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
            
            // Update data if needed
            if (section === 'dashboard') {
                updateDashboardStats();
            } else if (section === 'rooms') {
                renderRooms();
            } else if (section === 'customers') {
                renderCustomers();
            } else if (section === 'bookings') {
                renderBookings();
            } else if (section === 'payments') {
                renderPayments();
            }
        }

        // Dashboard
        function updateDashboardStats() {
            totalRoomsEl.textContent = rooms.length;
            totalCustomersEl.textContent = customers.length;
            
            const activeBookings = bookings.filter(booking => 
                booking.status === 'confirmed' || booking.status === 'pending'
            ).length;
            activeBookingsEl.textContent = activeBookings;
            
            // Calculate today's revenue (simplified for demo)
            const todayRevenue = payments
                .filter(payment => payment.status === 'paid')
                .reduce((sum, payment) => sum + payment.amount, 0);
            todaysRevenueEl.textContent = formatCurrency(todayRevenue);
            
            // Render recent bookings
            renderRecentBookings();
            
            // Render occupancy chart
            renderOccupancyChart();
        }

        function renderRecentBookings() {
            recentBookingsEl.innerHTML = '';
            
            // Get 5 most recent bookings
            const recentBookings = [...bookings]
                .sort((a, b) => new Date(b.checkIn) - new Date(a.checkIn))
                .slice(0, 5);
            
            recentBookings.forEach(booking => {
                const room = getRoomById(booking.roomId);
                const customer = getCustomerById(booking.customerId);
                
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td class="px-6 py-4 whitespace-nowrap">${room.number} (${room.type})</td>
                    <td class="px-6 py-4 whitespace-nowrap">${customer.firstName} ${customer.lastName}</td>
                    <td class="px-6 py-4 whitespace-nowrap">${formatDate(booking.checkIn)} - ${formatDate(booking.checkOut)}</td>
                    <td class="px-6 py-4 whitespace-nowrap">
                        <span class="px-2 py-1 text-xs rounded-full ${booking.status === 'confirmed' ? 'bg-green-100 text-green-800' : 
                            booking.status === 'pending' ? 'bg-yellow-100 text-yellow-800' : 'bg-red-100 text-red-800'}">
                            ${booking.status}
                        </span>
                    </td>
                `;
                recentBookingsEl.appendChild(row);
            });
        }

        function renderOccupancyChart() {
            const ctx = document.getElementById('occupancy-chart').getContext('2d');
            
            // Calculate occupancy data
            const roomTypes = ['single', 'double', 'suite', 'deluxe'];
            const totalRoomsByType = roomTypes.map(type => 
                rooms.filter(room => room.type === type).length
            );
            const occupiedRoomsByType = roomTypes.map
</body>
</html>